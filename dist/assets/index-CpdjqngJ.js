(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=r(t);fetch(t.href,n)}})();const l=document.querySelector("ul"),m=document.querySelector("form"),a=document.querySelector("form > input");m.addEventListener("submit",e=>{e.preventDefault();const o=a.value;a.value="",E(o)});const c=[],i=()=>{const e=c.map((o,r)=>o.editMode?L(o,r):f(o,r));l.innerHTML="",l.append(...e)},f=(e,o)=>{const r=document.createElement("li"),s=document.createElement("button");s.innerHTML="✖",s.classList.add("supprimer");const t=document.createElement("button");return t.innerHTML="✎",t.classList.add("editer"),s.addEventListener("click",n=>{n.stopPropagation(),v(o)}),t.addEventListener("click",n=>{n.stopPropagation(),p(o)}),r.innerHTML=`
    <span class="todo ${e.done?"done":""}"></span>
    <p class="${e.done?"done":""}">${e.text}</p>`,r.addEventListener("click",n=>{y(o)}),r.append(t,s),r},L=(e,o)=>{const r=document.createElement("li"),s=document.createElement("input");s.type="text",s.value=e.text,s.addEventListener("keydown",d=>{d.key==="Enter"&&u(o,s)});const t=document.createElement("button");t.innerHTML="✔",t.classList.add("editer");const n=document.createElement("button");return n.innerHTML="✖",n.classList.add("supprimer"),n.addEventListener("click",d=>{d.stopPropagation(),p(o)}),t.addEventListener("click",d=>{u(o,s)}),r.append(s,n,t),r},E=e=>{e=e.trim(),e&&(c.push({text:`${e[0].toUpperCase()}${e.slice(1)}`,done:!1}),i())},v=e=>{c.splice(e,1),i()},y=e=>{c[e].done=!c[e].done,i()},p=e=>{c[e].editMode=!c[e].editMode,i()},u=(e,o)=>{const r=o.value;c[e].text=r,c[e].editMode=!1,i()};i();
